<!-- index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Diplomacy Web</title>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="600" style="display:none; border:1px solid gray; background-image: url('map.png'); background-size: cover;"></canvas>
  <div id="lobby" style="display: block; padding: 20px;">
    <h2>ゲーム設定</h2>
    <label>人間プレイヤー数:<input type="number" id="humanCount" min="1" max="7" value="1"></label><br>
    <label>CPUプレイヤー数:<input type="number" id="cpuCount" min="0" max="6" value="2"></label><br>
    <button onclick="startGame()">ゲーム開始</button>
  </div>
  <div id="nationInfo" style="display:none; padding: 10px; font-weight: bold;"></div>
  <div id="orderPanel" style="display:none; padding: 10px;">
    <p>ユニット命令:</p>
    <label>移動先:<input type="text" id="moveTo"></label>
    <button onclick="submitMove()">移動命令</button><br>
    <label>支援対象:<input type="text" id="supportTarget"></label>
    <button onclick="submitSupport()">支援命令</button>
  </div>
  <div id="phaseInfo" style="display:none; padding: 10px; color: green; font-weight: bold;"></div>
  <div id="resolutionLog" style="display:none; padding: 10px; color: darkred;"></div>
  <div id="victoryInfo" style="display:none; padding: 10px; color: blue; font-size: 18px; font-weight: bold;"></div>
  <div id="historyLog" style="display:none; padding: 10px; font-size: 14px; max-height: 200px; overflow-y: scroll; background: #f5f5f5; border: 1px solid #ccc;"></div>
  <div id="chatArea" style="display:none; padding: 10px;">
    <div id="chatMessages" style="max-height: 150px; overflow-y: scroll; border: 1px solid #ccc; padding: 5px; background: #fff; margin-bottom: 5px;"></div>
    <input type="text" id="chatInput" placeholder="メッセージを入力" style="width: 70%;">
    <button onclick="sendChat()">送信</button>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    // ... 省略：ここに既にCanvasに保存されているスクリプト部分が入ります ...
  </script>
</body>
</html>
